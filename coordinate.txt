2018-07-19:

Coordinates: dimension coordinate and auxiliary constructs
----------------------------------------------------------

Coordinate constructs provide information which locate the cells of
the domain and which depend on a subset of the domain axis constructs.
A coordinate construct consists of a data array of the coordinate
values spanning a subset of the domain axis constructs, an optional
array of cell bounds recording the extents of each cell, and
properties to describe the coordinates (in the same sense as for the
field construct). 

When cell bounds are provided, each cell comprises one or more parts,
and each part is either a collection of points, a line defined by a
connected series of points, or a polygonal area (i.e. the region
enclosed by a connected series of points, where the first and last
points are connected as well). For a given coordinate construct, all
the parts of all the cells must be of the same one of these three
kinds, which are called "geometry types". The bounds array spans the
same domain axes as its coordinate array, with the addition of two
trailing ragged dimensions. The first extra dimension indexes the
parts of each cell and the second indexes the points that describe
each part.

If a cell is composed of multiple polygon parts, an individual polygon
may define an "interior ring", i.e. a region that is to be omitted
from, as opposed to included in, the cell extent. In this case an
interior ring array is required that records whether each polygon is
to be included or excluded from the cell, and is supplied by an
interior ring variable in CF-netCDF. The interior ring array spans the
same domain axes as its coordinate array, with the addition of an
extra ragged dimension that indexes the parts for each cell. For
example, a cell describing the land area surrounding a lake would
require two polygon parts: one defines the outer boundary of the land
area; the other, recorded as an interior ring, is the lake boundary,
defining the inner boundary of the land area.

There are two distinct types of coordinate construct: dimension
coordinate constructs unambiguously describe cell locations for a
single domain axis, thus providing independent variables on which the
field construct's data depend; and auxiliary coordinate constructs
provide any type of coordinate information for one or more of the
domain axes.

A dimension coordinate construct contains numeric coordinates for a
single domain axis that are non-missing and strictly monotonically
increasing or decreasing. If cell bounds are provided then each cell
must have exactly two vertices. For climatological time coordinates,
the cell extent comprises multiple time segments i.e. a
one-dimensional line geometry with several parts, but the bounds array
comprises just two points to define each cell, namely the earliest and
latest. The cell method constructs indicate how the multiple time
segments can be inferred from these climatological bounds. CF-netCDF
coordinate variables and numeric scalar coordinate variables
correspond to dimension coordinate constructs.

Auxiliary coordinate constructs have to be used, instead of dimension
coordinate constructs, when a single domain axis requires more then
one set of coordinate values, when coordinate values are not numeric,
strictly monotonic, or contain missing values, or when they vary along
more than one domain axis construct simultaneously. CF-netCDF
auxiliary coordinate variables and non-numeric scalar coordinate
variables correspond to auxiliary coordinate constructs.

If a domain axis construct does not correspond to a continuous
physical quantity, then it is not necessary for it to be associated
with a dimension coordinate construct. For example, this is the case
for an axis that runs over ocean basins or area types, or for a domain
axis that indexes a time series at scattered points. These axes are
discrete axes in CF-netCDF. In such cases cells may be described with
one-dimensional auxiliary coordinate constructs for which, provided
that there is a cell bounds array to describe the cell extents, the
coordinate array is optional, since coordinates are not always well
defined for such cells. A CF-netCDF geometry container variable is
used to store cell bounds without coordinates for a discrete axis.

In CF-netCDF, when a CF-netCDF geometry container variable is present,
it explicitly describes the geometry type and the number of parts per
cell for the coordinate variables that it references. In this case, a
node coordinate variable stores the cell vertices. When a geometry
container variable is not present then the bounds contain exactly one
part and their geometry type is implied by convention: for
multidimensional auxiliary coordinates each cell is a single polygon,
and for all other type of coordinate each cell is a single line
segment, defined by two points. In the case of climatological time
coordinates, the two points of the cell bounds, in conjunction with
the cell methods, imply the existence of multiple line parts,
different subsets of which are associated with the different cell
methods required to define the climatology. For example, when the
field construct's data are multiannual averages of monthly minima, the
implied cell parts define the individual months over which the
original data was minimised; and all of the implied parts taken
together define the exact temporal extent of the average of the
monthly minima.

2018-07-05:

Coordinates: dimension coordinate and auxiliary constructs
----------------------------------------------------------

Coordinate constructs provide information which locate the cells of
the domain and which depend on a subset of the domain axis constructs.
A coordinate construct consists of a data array of the coordinate
values spanning a subset of the domain axis constructs, an optional
array of cell bounds recording the extents of each cell, and
properties to describe the coordinates (in the same sense as for the
field construct).

When cell bounds are provided, each cell comprises one or more parts,
and each part is either a collection of points, a line defined by a
connected series of points, or a polygonal area (i.e. the region
enclosed by a connected series of points, where the first and last
points are connected as well). For a given coordinate construct, all
the parts of all the cells must be of the same one of these three
kinds, which are called "geometry types". The bounds array spans the
same domain axes as its coordinate array, with the addition of two
trailing ragged dimensions. The first extra dimension indexes the
parts of each cell and the second indexes the points that describe
each part.

If a cell is composed of multiple polygon parts, an individual polygon
may define an "interior ring", i.e. a region that is to be omitted
from, as opposed to included in, the cell extent. In this case an
interior ring array is required that records whether each polygon is
to be included or excluded from the cell, and is supplied by an
interior ring variable in CF-netCDF. The interior ring array spans the
same domain axes as its coordinate array, with the addition of an
extra ragged dimension that indexes the parts for each cell. For
example, a cell describing the land area surrounding a lake would
require two polygon parts: one defines the outer boundary of the land
area; the other, recorded as an interior ring, is the lake boundary,
defining the inner boundary of the land area.

There are two distinct types of coordinate construct: dimension
coordinate constructs unambiguously describe cell locations for a
single domain axis, thus providing independent variables on which the
field construct's data depend; and auxiliary coordinate constructs
provide any type of coordinate information for one or more of the
domain axes.

A dimension coordinate construct contains numeric coordinates for a
single domain axis that are non-missing and strictly monotonically
increasing or decreasing. If cell bounds are provided then each cell
must have exactly two vertices. For climatological time coordinates,
the cell extent comprises multiple time segments i.e. a
one-dimensional line geometry with several parts, but the bounds array
comprises just two points to define each cell, namely the earliest and
latest. The cell method constructs indicate how the multiple time
segments can be inferred from these climatological bounds. CF-netCDF
coordinate variables and numeric scalar coordinate variables
correspond to dimension coordinate constructs.

If a domain axis construct does not correspond to a continuous
physical quantity, then it is not necessary for it to be associated
with a dimension coordinate construct. For example, this is the case
for an axis that runs over ocean basins or area types, or for a domain
axis that indexes a time series at scattered points. In such cases,
one-dimensional auxiliary coordinate constructs could be used to store
coordinate values. These axes are discrete axes in CF-netCDF.

Auxiliary coordinate constructs have to be used, instead of dimension
coordinate constructs, when a single domain axis requires more then
one set of coordinate values, when coordinate values are not numeric,
strictly monotonic, or contain missing values, or when they vary along
more than one domain axis construct simultaneously. CF-netCDF
auxiliary coordinate variables and non-numeric scalar coordinate
variables correspond to auxiliary coordinate constructs.

In CF-netCDF, when a CF-netCDF geometry variable is present, it
explicitly describes the geometry type and the number of parts per
cell for the coordinate variables that it references. In this case, a
node coordinate variable stores the cell vertices in a contiguous
ragged array representation in order to save space. When a geometry
variable is not present then coordinate bounds contain exactly one
part and their geometry type is implied by convention: for
multidimensional auxiliary coordinates each cell is a single polygon,
and for all other type of coordinate each cell is a single line
segment, defined by two points. In the case of climatological time
coordinates, the two points of the cell bounds, in conjunction with
the cell methods, imply the existence of multiple line parts,
different subsets of which are associated with the different cell
methods required to define the climatology. For example, when the
field construct's data are multiannual averages of monthly minima, the
implied cell parts define the individual months over which the
original data was minimised; and all of the implied parts taken
together define the exact temporal extent of the average of the
monthly minima.


2018-07-03:


Coordinates: dimension coordinate and auxiliary constructs
----------------------------------------------------------

Coordinate constructs provide information which locate the cells of
the domain and which depend on a subset of the domain axis constructs.
A coordinate construct consists of a data array of the coordinate
values which spans a subset of the domain axis constructs, an optional
array of cell bounds recording the extents of each cell, and
properties to describe the coordinates (in the same sense as for the
field construct).

When cell bounds are provided, each cell comprises one or more parts,
and each part is either a collection of points, a line defined by a
connected series of points, or a polygonal area (i.e. the region
enclosed by a connected series of points, where the first and last
points are connected as well). For a given coordinate construct, all
the parts of all the cells must be of the same one of these three
kinds, which are called "geometry types". The bounds array spans the
same domain axes as its coordinate array, with the addition of two
trailing ragged dimensions. The first extra dimension indexes the
parts of each cell and the second indexes the points that describe
each part.

If a cell is composed of multiple polygon parts, an individual polygon
may define an "interior ring", i.e. a region that is to be omitted
from, as opposed to included in, the cell extent. In this case an
interior ring array is required that records whether each polygon is
to be included or excluded from the cell, and is supplied by an
interior ring variable in CF-netCDF. The interior ring array spans the
same domain axes as its coordinate array, with the addition of an
extra ragged dimension that indexes the parts for each cell. For
example, a cell describing the land area surrounding a lake would
require two polygon parts: one defines the outer boundary of the land
area; the other, recorded as an interior ring, is the lake boundary,
defining the inner boundary of the land area.

There are two distinct types of coordinate construct: dimension
coordinate constructs unambiguously describe cell locations for a
single domain axis, thus providing independent variables on which the
field construct's data depend; and auxiliary coordinate constructs
provide any type of coordinate information for one or more of the
domain axes.

A dimension coordinate construct contains numeric coordinates for a
single domain axis that are non-missing and strictly monotonically
increasing or decreasing. If cell bounds are provided then each cell
must have exactly two vertices. For climatological time coordinates,
the cell extent comprises multiple time segments i.e. a
one-dimensional line geometry with several parts, but the bounds array
comprises just two points to define each cell, namely the earliest and
latest. The cell method constructs indicate how the multiple time
segments can be inferred from these climatological bounds. CF-netCDF
coordinate variables and numeric scalar coordinate variables
correspond to dimension coordinate constructs.

If a domain axis construct does not correspond to a continuous
physical quantity, then it is not necessary for it to be associated
with a dimension coordinate construct. For example, this is the case
for an axis that runs over ocean basins or area types, or for a domain
axis that indexes a time series at scattered points. In such cases,
one-dimensional auxiliary coordinate constructs could be used to store
coordinate values. These axes are discrete axes in CF-netCDF.

Auxiliary coordinate constructs have to be used, instead of dimension
coordinate constructs, when a single domain axis requires more then
one set of coordinate values, when coordinate values are not numeric,
strictly monotonic, or contain missing values, or when they vary along
more than one domain axis construct simultaneously. CF-netCDF
auxiliary coordinate variables and non-numeric scalar coordinate
variables correspond to auxiliary coordinate constructs.

In CF-netCDF, when a CF-netCDF geometry variable is present, it
explicitly describes the geometry type and the number of parts per cell
for the coordinate variables that it references. In this case, a node
coordinate variable stores the cell vertices in a contiguous ragged
array representation in order to save space. When a geometry variable
is not present then coordinate bounds contain exactly one part and
their geometry type is implied by convention: for multidimensional
auxiliary coordinates each cell is a single polygon, and for all other
type of coordinate each cell is a single line segment, defined by two
points. In the case of climatological time coordinates, the two points
of the cell bounds, in conjunction with the cell methods, imply the
existence of multiple line parts, different subsets of which are
associated with the different cell methods required to define the
climatology. For example, when the field construct's data are
multiannual averages of monthly minima, the implied cell parts define
the individual months over which the original data was minimised; and
all of the implied parts taken together define the exact temporal
extent of the average of the monthly minima.

2018-06-29:

Coordinates: dimension coordinate and auxiliary constructs
----------------------------------------------------------

Coordinate constructs provide information which locate the cells of
the domain and which depend on a subset of the domain axis
constructs. As previously discussed, there are two distinct types of
coordinate construct: a dimension coordinate construct provides
monotonic numeric coordinates for a single domain axis, and an
auxiliary coordinate construct provides any type of coordinate
information for one or more of the domain axes. In both cases, the
coordinate construct consists of a data array of the coordinate values
which spans a subset of the domain axis constructs, an optional array
of cell bounds recording the extents of each cell, and properties to
describe the coordinates (in the same sense as for the field
construct).

When cell bounds are provided, each cell comprises one or more parts,
and each part is either a collection of points, a line defined by a
connected series of points, or a polygonal area (i.e. the region
enclosed by a connected series of points, where the first and last
points are connected as well). For a given coordinate construct, all
the parts of all the cells must be of the same one of these three
kinds, which are called "geometry types". The bounds array spans the
same domain axes as its coordinate array, with the addition of two
trailing ragged dimensions. The first extra dimension indexes the
parts of each cell and the second indexes the points that describe
each part.

If a cell is composed of multiple polygon parts, an individual polygon
may define an "interior ring", i.e. a region that is to be omitted
from, as opposed to included in, the cell extent. In this case an
interior ring array is required that records whether each polygon is
to be included or excluded from the cell, and is supplied by an
interior ring variable in CF-netCDF. The interior ring array spans the
same domain axes as its coordinate array, with the addition of an
extra ragged dimension that indexes the parts for each cell. For
example, a cell describing the land area surrounding a lake would
require two polygon parts - one that encompasses the both the land and
the water; and one, recorded as an interior ring, that defines the
lake area to be omitted.

The dimension coordinate construct is able to unambiguously describe
cell locations because a domain axis can be associated with at most
one dimension coordinate construct, whose data array values must all
be non-missing and strictly monotonically increasing or
decreasing. They must also all be of the same numeric data type. If
cell bounds are provided then each cell must have exactly two
vertices. Note that for climatological time coordinates, the cell
bounds are composed logically of multiple line parts, but only two of
the points that define each cell---the earliest and latest---are
stored by the bounds array, the other points being indicated
implicitly by the cell method constructs. Deferring the exact cell
specification to the cell methods in this case allows for different
methods to have been applied over different cell parts, as well as
over different subsets of the cell parts (for example, the physical
quantity may have been averaged over each cell part, but all of the
parts taken together could represent the minimum of these
averages). CF-netCDF coordinate variables and numeric scalar
coordinate variables correspond to dimension coordinate constructs.

If a domain axis construct does not correspond to a continuous
physical quantity, then it is not necessary for it to be associated
with a dimension coordinate construct. For example, this is the case
for an axis that runs over ocean basins or area types, or for a domain
axis that indexes a time series at scattered points. In such cases,
one-dimensional auxiliary coordinate constructs could be used to store
coordinate values. These axes are discrete axes in CF-netCDF.

Auxiliary coordinate constructs have to be used, instead of dimension
coordinate constructs, when a single domain axis requires more then
one set of coordinate values, when coordinate values are not numeric,
strictly monotonic, or contain missing values, or when they vary along
more than one domain axis construct simultaneously. CF-netCDF
auxiliary coordinate variables and non-numeric scalar coordinate
variables correspond to auxiliary coordinate constructs.

In CF-netCDF, when a CF-netCDF geometry variable is present, it
explicitly describes the geometry type and the number of parts per cell
for the coordinate variables that it references. In this case, a node
coordinate variable stores the cell vertices in a contiguous ragged
array representation in order to save space. When a geometry variable
is not present then coordinate bounds contain exactly one part and
their geometry type is implied by convention: bounds for
multidimensional auxiliary coordinates have the polygon geometry type
and bounds for all other type of coordinate have the line geometry
type, with each cell being defined by two points.
