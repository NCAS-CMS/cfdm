
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>cf.read &#8212; Documentation</title>
    
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
  <li><a target="_blank" href="../../archive.html">Archive</a> &laquo;</li>
  <li><a target="_blank" href="http://cfpython.bitbucket.io">cf-python 0.1</a> &raquo;</li>
<!--
  <li><a target="_blank" href="http://cfpython.bitbucket.io">cf-python</a> &raquo;</li>
  <li><select onchange="location = this.options[this.selectedIndex].value;">

      <option value="../../1.0/index.html">1.0

      <option value="../../0.9.9/index.html">0.9.9

      <option value="../../0.9.8.3/index.html">0.9.8.3

      <option value="../../archive.html">Archive

      </select>
  </li>
-->
  
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="cf-read">
<h1>cf.read<a class="headerlink" href="#cf-read" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="cf.read">
<code class="descclassname">cf.</code><code class="descname">read</code><span class="sig-paren">(</span><em>files</em>, <em>verbose=False</em>, <em>ignore_read_error=False</em>, <em>aggregate=True</em>, <em>umversion=4.5</em>, <em>nfields=None</em>, <em>squeeze=False</em>, <em>unsqueeze=False</em>, <em>fmt=None</em>, <em>select=None</em>, <em>select_options={}</em>, <em>top_level=None</em>, <em>height_at_top_of_model=None</em>, <em>recursive=False</em>, <em>follow_symlinks=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cf.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read fields from files into <code class="xref py py-obj docutils literal"><span class="pre">cf.Field</span></code> objects.</p>
<p>A file may be on disk or on a OPeNDAP server.</p>
<p>Any amount of any combination of CF-netCDF and CFA-netCDF files (or
URLs if DAP access is enabled), Met Office (UK) PP files and Met
Office (UK) fields files format files may be read.</p>
<dl class="docutils">
<dt><strong>netCDF files</strong></dt>
<dd><ul class="first last simple">
<li>The netCDF variable names of the field and its components are
stored in their <code class="xref py py-obj docutils literal"><span class="pre">ncvar</span></code> attributes.</li>
<li>Fields referenced within coordinate reference or ancillary
variables objects are not included in the returned list of
fields.</li>
</ul>
</dd>
<dt><strong>PP files</strong></dt>
<dd><ul class="first last simple">
<li>If any PP files are read then the <em>aggregate</em> option
<code class="docutils literal"><span class="pre">'relaxed_units'</span></code> is set to True for all input files.</li>
<li>STASH code to standard conversion uses the table in
<code class="docutils literal"><span class="pre">cf/etc/STASH_to_CF.txt</span></code>.</li>
</ul>
</dd>
<dt><strong>Files on OPeNDAP servers</strong></dt>
<dd><ul class="first last simple">
<li>All files on OPeNDAP servers are assumed to be netCDF files.</li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="cf.write.html#cf.write" title="cf.write"><code class="xref py py-obj docutils literal"><span class="pre">cf.write</span></code></a></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first">files : (arbitrarily nested sequence of) str</p>
<blockquote>
<div><p>A string or arbitrarily nested sequence of strings giving the
file names or OPenDAP URLs from which to read fields. Various
type of expansion are applied to the file names:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="34%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Expansion</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Tilde</td>
<td>An initial component of <code class="docutils literal"><span class="pre">~</span></code> or
<code class="docutils literal"><span class="pre">~user</span></code> is replaced by that <em>user</em>’s
home directory.</td>
</tr>
<tr class="row-odd"><td>Environment variable</td>
<td>Substrings of the form <code class="docutils literal"><span class="pre">$name</span></code> or
<code class="docutils literal"><span class="pre">${name}</span></code> are replaced by the value
of environment variable <em>name</em>.</td>
</tr>
<tr class="row-even"><td>Pathname</td>
<td>A string containing UNIX file name
metacharacters as understood by the
<a class="reference external" href="https://docs.python.org/2.7/library/glob.html#module-glob" title="(in Python v2.7)"><code class="xref py py-obj docutils literal"><span class="pre">glob</span></code></a> module is replaced by
the list of matching file names. This
type of expansion is ignored for
OPenDAP URLs.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Where more than one type of expansion is used in the same
string, they are applied in the order given in the above
table.</p>
<blockquote>
<div><p>Example: If the environment variable <em>MYSELF</em> has been set
to the “david”, then <code class="docutils literal"><span class="pre">'~$MYSELF/*.nc'</span></code> is equivalent to
<code class="docutils literal"><span class="pre">'~david/*.nc'</span></code>, which will read all netCDF files in the
user david’s home directory.</p>
</div></blockquote>
</div></blockquote>
<dl class="docutils">
<dt>verbose <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">If True then print information to stdout.</p>
</dd>
<dt>umversion <span class="classifier-delimiter">:</span> <span class="classifier">int or float, optional</span></dt>
<dd><p class="first">Met Office (UK) PP files and Met Office (UK) fields files
only, the Unified Model (UM) version to be used when decoding
the PP header. Valid versions are, for example, <code class="docutils literal"><span class="pre">402</span></code> or
<code class="docutils literal"><span class="pre">4.2</span></code> (v4.2), <code class="docutils literal"><span class="pre">606.3</span></code> (v6.6.3) and <code class="docutils literal"><span class="pre">1001</span></code> or <code class="docutils literal"><span class="pre">10.1</span></code>
(v10.1). The default version is <code class="docutils literal"><span class="pre">4.5</span></code> (v4.5). The version is
ignored if it can be inferred from the PP headers, which will
generally be the case for files created at v5.3 and
later. Note that the PP header can not encode tertiary version
elements (such as the <code class="docutils literal"><span class="pre">3</span></code> in <code class="docutils literal"><span class="pre">606.3</span></code>), so it may be
necessary to provide a UM version in such cases.</p>
<p class="last">Ignored for any other type of input files.</p>
</dd>
<dt>ignore_read_error <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">If True then ignore any file which raises an IOError whilst
being read, as would be the case for an empty file, unknown
file format, etc. By default the IOError is raised.</p>
</dd>
<dt>fmt <span class="classifier-delimiter">:</span> <span class="classifier">str, optional</span></dt>
<dd><p class="first last">Only read files of the given format, ignoring all other
files. Valid formats are <code class="docutils literal"><span class="pre">'NETCDF'</span></code> for CF-netCDF files,
<code class="docutils literal"><span class="pre">'CFA'</span></code> for CFA-netCDF files and <code class="docutils literal"><span class="pre">'PP'</span></code> for PP files and
‘FF’ for UM fields files. By default files of any of these
formats are read.  default files of any of these formats are
read.</p>
</dd>
<dt>aggregate <span class="classifier-delimiter">:</span> <span class="classifier">bool or dict, optional</span></dt>
<dd><p class="first last">If True (the default) or a (possibly empty) dictionary then
aggregate the fields read in from all input files into as few
fields as possible using the CF aggregation rules. If
<em>aggregate</em> is a dictionary then it is passed as keyword
arguments to the <code class="xref py py-obj docutils literal"><span class="pre">cf.aggregate</span></code> function. If False then the
fields are not aggregated.</p>
</dd>
<dt>squeeze <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">If True then remove size 1 axes from each field’s data array.</p>
</dd>
<dt>unsqueeze <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first last">If True then insert size 1 axes from each field’s domain into
its data array.</p>
</dd>
<dt>select, select_options <span class="classifier-delimiter">:</span> <span class="classifier"><em>optional</em></span></dt>
<dd><p class="first last">Only return fields which satisfy the given conditions on their
property values. Only fields which, prior to any aggregation,
satisfy <code class="docutils literal"><span class="pre">f.match(select,</span> <span class="pre">**select_options)</span> <span class="pre">==</span> <span class="pre">True</span></code> are
returned. See <code class="xref py py-obj docutils literal"><span class="pre">cf.Field.match</span></code> for details.</p>
</dd>
<dt>top_level <span class="classifier-delimiter">:</span> <span class="classifier">(sequence of) str, optional</span></dt>
<dd><p class="first">Promote field components to independent top-level fields. The
<em>top_level</em> parameter may be or, or a sequence, of:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><em>top_level</em></th>
<th class="head">Extra top-level fields</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">'reference'</span></code></td>
<td>Fields in coordinate reference objects</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">'ancillary'</span></code></td>
<td>Ancillary data fields</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">'field'</span></code></td>
<td>Fields in coordinate references and
ancillary data fields</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">'auxiliary'</span></code></td>
<td>Auxiliary coordinate objects</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">'measure'</span></code></td>
<td>Cell measure objects</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">'all'</span></code></td>
<td>All of the above</td>
</tr>
</tbody>
</table>
<blockquote>
<div><dl class="docutils">
<dt><em>Example:</em></dt>
<dd><p class="first last">To promote fields in coordinate reference objects:
<code class="docutils literal"><span class="pre">top_level='reference'</span></code> or <code class="docutils literal"><span class="pre">top_level=['reference']</span></code>.</p>
</dd>
<dt><em>Example:</em></dt>
<dd><p class="first last">To promote ancillary data fields and cell measure
objects: <code class="docutils literal"><span class="pre">top_level=['ancillary',</span> <span class="pre">'measure']</span></code>.</p>
</dd>
</dl>
</div></blockquote>
</div></blockquote>
<div class="last versionadded">
<p><span class="versionmodified">New in version 1.0.4.</span></p>
</div>
</dd>
<dt>recursive <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first">If True then allow directories to be specified by the <em>files</em>
parameter and recursively search the directories for files to
read.</p>
<div class="last versionadded">
<p><span class="versionmodified">New in version 1.1.9.</span></p>
</div>
</dd>
<dt>follow_symlinks <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span></dt>
<dd><p class="first">If True, and <em>recursive</em> is True, then also search for files
in directories which resolve to symbolic links. By default
directories which resolve to symbolic links are
ignored. Ignored of <em>recursive</em> is False. Files which are
symbolic links are always followed.</p>
<p>Note that setting <code class="docutils literal"><span class="pre">recursive=True,</span> <span class="pre">follow_symlinks=True</span></code> can
lead to infinite recursion if a symbolic link points to a
parent directory of itself.</p>
<div class="last versionadded">
<p><span class="versionmodified">New in version 1.1.9.</span></p>
</div>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first docutils">
<dt>out <span class="classifier-delimiter">:</span> <span class="classifier">cf.FieldList or cf.Field</span></dt>
<dd><p class="first last">A list of fields, or if there is only one field, the
individual field.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Examples:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;file*.nc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span>
<span class="go">[&lt;CF Field: pmsl(30, 24)&gt;,</span>
<span class="go"> &lt;CF Field: z-squared(17, 30, 24)&gt;,</span>
<span class="go"> &lt;CF Field: temperature(17, 30, 24)&gt;,</span>
<span class="go"> &lt;CF Field: temperature_wind(17, 29, 24)&gt;]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;file*.nc&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
<span class="go">[&lt;CF Field: pmsl(30, 24)&gt;,</span>
<span class="go"> &lt;CF Field: z-squared(17, 30, 24)&gt;]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;file*.nc&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">&lt;CF Field: temperature_wind(17, 29, 24)&gt;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;file*.nc&#39;</span><span class="p">,</span> <span class="n">select</span><span class="o">=</span><span class="s1">&#39;units:K)</span>
<span class="go">[&lt;CF Field: temperature(17, 30, 24)&gt;,</span>
<span class="go"> &lt;CF Field: temperature_wind(17, 29, 24)&gt;]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;file*.nc&#39;</span><span class="p">,</span> <span class="n">select</span><span class="o">=</span><span class="s1">&#39;ncvar%ta&#39;</span><span class="p">)</span>
<span class="go">&lt;CF Field: temperature(17, 30, 24)&gt;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;file*.nc&#39;</span><span class="p">,</span> <span class="n">select</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;standard_name&#39;</span><span class="p">:</span> <span class="s1">&#39;.*pmsl*&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:[</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;Pa&#39;</span><span class="p">]})</span>
<span class="go">&lt;CF Field: pmsl(30, 24)&gt;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;file*.nc&#39;</span><span class="p">,</span> <span class="n">select</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;units&#39;</span><span class="p">:[</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;Pa&#39;</span><span class="p">]})</span>
<span class="go">[&lt;CF Field: pmsl(30, 24)&gt;,</span>
<span class="go"> &lt;CF Field: temperature(17, 30, 24)&gt;,</span>
<span class="go"> &lt;CF Field: temperature_wind(17, 29, 24)&gt;]</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/generated/cf.read.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
  <li><a target="_blank" href="../../archive.html">Archive</a> &laquo;</li>
  <li><a target="_blank" href="http://cfpython.bitbucket.io">cf-python 0.1</a> &raquo;</li>
<!--
  <li><a target="_blank" href="http://cfpython.bitbucket.io">cf-python</a> &raquo;</li>
  <li><select onchange="location = this.options[this.selectedIndex].value;">

      <option value="../../1.0/index.html">1.0

      <option value="../../0.9.9/index.html">0.9.9

      <option value="../../0.9.8.3/index.html">0.9.8.3

      <option value="../../archive.html">Archive

      </select>
  </li>
-->
  
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, David Hassell.
      Last updated on Oct 04, 2017.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.2.
    </div>
  </body>
</html>