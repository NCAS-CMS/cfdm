
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Manipulating cf.Field objects &#8212; Documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/copybutton.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="The cf.FieldList object" href="fieldlist.html" />
    <link rel="prev" title="Creating cfdm.Field objects" href="field_creation.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="fieldlist.html" title="The cf.FieldList object"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="field_creation.html" title="Creating cfdm.Field objects"
             accesskey="P">previous</a> |</li>
  <li><a target="_blank" href="../archive.html">Archive</a> &laquo;</li>
  <li><a target="_blank" href="http://cfpython.bitbucket.io">cf-python 0.1</a> &raquo;</li>
<!--
  <li><a target="_blank" href="http://cfpython.bitbucket.io">cf-python</a> &raquo;</li>
  <li><select onchange="location = this.options[this.selectedIndex].value;">

      <option value="../1.0/index.html">1.0

      <option value="../0.9.9/index.html">0.9.9

      <option value="../0.9.8.3/index.html">0.9.8.3

      <option value="../archive.html">Archive

      </select>
  </li>
-->
  
        <li class="nav-item nav-item-0"><a href="index.html">Documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="reference.html" accesskey="U">Reference manual</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="manipulating-cf-field-objects">
<span id="manipulating-fields"></span><h1>Manipulating <code class="xref py py-obj docutils literal"><span class="pre">cf.Field</span></code> objects<a class="headerlink" href="#manipulating-cf-field-objects" title="Permalink to this headline">¶</a></h1>
<p>Manipulating a field generally involves operating on its data array
and making any necessary changes to the field’s domain to make it
consistent with the new array.</p>
<div class="section" id="data-array">
<h2>Data array<a class="headerlink" href="#data-array" title="Permalink to this headline">¶</a></h2>
<div class="section" id="conversion-to-a-numpy-array">
<h3>Conversion to a numpy array<a class="headerlink" href="#conversion-to-a-numpy-array" title="Permalink to this headline">¶</a></h3>
<p>A field’s data array may be converted to either an independent numpy
array or a numpy array view (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.view.html#numpy.ndarray.view" title="(in NumPy v1.13)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray.view</span></code></a>) with its
<code class="xref py py-obj docutils literal"><span class="pre">array</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">varray</span></code> attributes respectively:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">a</span>
<span class="go">[[2 -- 4 -- 6]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">999</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">a</span>
<span class="go">[[999 -- 4 -- 6]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">array</span>
<span class="go">[[2 -- 4 -- 6]]</span>
</pre></div>
</div>
<p>Changing the numpy array view in place will also change the
field’s data array in-place:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">varray</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">v</span>
<span class="go">[[2 -- 4 -- 6]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">999</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">array</span>
<span class="go">[[999 -- 4 -- 6]]</span>
</pre></div>
</div>
<p>A field exposes the numpy array interface and so may be used as input
to any of the <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/routines.array-creation.html#from-existing-data">numpy array creation functions</a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">array</span>
<span class="go">[[2 -- 4 -- 6]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numpy</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">array</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numpy</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The numpy array created by the <code class="xref py py-obj docutils literal"><span class="pre">varray</span></code> or <code class="xref py py-obj docutils literal"><span class="pre">array</span></code>
attributes forces all of the data to be read into memory at the
same time, which may not be possible for very large arrays.</p>
</div>
</div>
<div class="section" id="data-mask">
<h3>Data mask<a class="headerlink" href="#data-mask" title="Permalink to this headline">¶</a></h3>
<p>A copy of a field’s missing data mask is returned by its
<code class="xref py py-obj docutils literal"><span class="pre">mask</span></code> attribute.</p>
<p>This mask is an independent field in its own right, and so changes to
it will not be seen by the field which generated it. See the
<a class="reference internal" href="#fm-assignment"><span class="std std-ref">assignment section</span></a> for details on how to edit
the field’s mask in place.</p>
</div>
</div>
<div class="section" id="copying">
<h2>Copying<a class="headerlink" href="#copying" title="Permalink to this headline">¶</a></h2>
<p>A deep copy of a field may be created with its <code class="xref py py-obj docutils literal"><span class="pre">copy</span></code> method,
which is functionally equivalent to, but faster than, using the
<a class="reference external" href="https://docs.python.org/2.7/library/copy.html#copy.deepcopy" title="(in Python v2.7)"><code class="xref py py-obj docutils literal"><span class="pre">copy.deepcopy</span></code></a> function:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">copy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
<p>Copying utilizes <span class="xref std std-ref">LAMA copying functionality</span>.</p>
</div>
<div class="section" id="subspacing">
<span id="id1"></span><h2>Subspacing<a class="headerlink" href="#subspacing" title="Permalink to this headline">¶</a></h2>
<p>Subspacing a field means subspacing its data array and its domain in a
consistent manner.</p>
<p>A field may be subspaced in “index-space” or “domain-space”. In
index-space, a subspace is defined by specifying indices of the data
array, whilst in domain-space a subspace is defined as the part of the
data array corresponds to given domain item values (e.g. particular
coordinate values)</p>
<p>Subspacing utilizes <span class="xref std std-ref">LAMA subspacing functionality</span>.</p>
<div class="section" id="indexing">
<span id="id2"></span><h3>Indexing<a class="headerlink" href="#indexing" title="Permalink to this headline">¶</a></h3>
<p>Subspacing by axis indices is done with the use of square brackets
([]) on a field and uses an extended Python slicing syntax which is
similar to <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/arrays.indexing.html#arrays-indexing" title="(in NumPy v1.13)"><span class="xref std std-ref">numpy array indexing</span></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(12, 73, 96)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="o">...</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(12, 73, 96)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="nb">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="p">:,</span> <span class="mi">10</span><span class="p">:</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(12, 73, 5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">coord</span><span class="p">(</span><span class="s1">&#39;longitude&#39;</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">180</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(12, 73, 48)</span>
</pre></div>
</div>
<p>There are three extensions to the numpy indexing functionality:</p>
<ul>
<li><p class="first">Size 1 axes are never removed.</p>
<p>An integer index <em>i</em> takes the <em>i</em>-th element but does not reduce
the rank of the output array by one:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(12, 73, 96)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1, 73, 96)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">),</span> <span class="mi">95</span><span class="p">:</span><span class="mi">93</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1, 5, 2)</span>
</pre></div>
</div>
</li>
<li><p class="first">The indices for each axis work independently.</p>
<p>When more than one axis’s slice is a 1-d boolean sequence or 1-d
sequence of integers, then these indices work independently along
each axis (similar to the way vector subscripts work in Fortran),
rather than by their elements:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(12, 73, 96)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">72</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(12, 2, 3)</span>
</pre></div>
</div>
<p>Note that the indices of the last example would raise an error when
given to a numpy array.</p>
</li>
<li><p class="first">Boolean indices may be any object which exposes the numpy array
interface, such as the field’s coordinate objects:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[:,</span> <span class="n">f</span><span class="o">.</span><span class="n">coord</span><span class="p">(</span><span class="s1">&#39;latitude&#39;</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(12, 36, 96)</span>
</pre></div>
</div>
</li>
</ul>
<p>Alternatively, the indices may be applied by indexing
<code class="xref py py-obj docutils literal"><span class="pre">Field.subspace</span></code>. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="mi">34</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]]</span>
</pre></div>
</div>
<p>is exactly equivalent to</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="mi">34</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="section" id="domain-values">
<span id="calling"></span><h3>Domain values<a class="headerlink" href="#domain-values" title="Permalink to this headline">¶</a></h3>
<p>Subspacing by values of domain items (coordinates or cell measures)
allows a subspaced field to be defined via metadata values of its
domain. The benefits of subspacing in this fashion are:</p>
<ul class="simple">
<li>The axes to be subspaced may identified by name.</li>
<li>The position in the data array of each axis need not be known and
the axes to be subspaced may be given in any order.</li>
<li>Axes for which no subspacing is required need not be specified.</li>
<li>Size 1 axes of the domain which are not spanned by the data array
may be specified.</li>
</ul>
<p>Coordinate values are provided as keyword arguments to a call to
<code class="xref py py-obj docutils literal"><span class="pre">subspace</span></code>. Coordinates are identified by their
<a class="reference internal" href="generated/cf.Coordinate.identity.html#cf.Coordinate.identity" title="cf.Coordinate.identity"><code class="xref py py-obj docutils literal"><span class="pre">identity</span></code></a> or their axis’s identifier in the field’s
domain.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">()</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(12, 73, 96)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">latitude</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(12, 1, 96)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">latitude</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">wi</span><span class="p">(</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(12, 25, 96)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="nb">long</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">ge</span><span class="p">(</span><span class="mi">270</span><span class="p">,</span> <span class="s1">&#39;degrees_east&#39;</span><span class="p">),</span> <span class="n">lat</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mi">10</span><span class="p">]))</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(12, 3, 24)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">latitude</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">lt</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;degrees_north&#39;</span><span class="p">))</span>
<span class="go">(12, 36, 96)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">latitude</span><span class="o">=</span><span class="p">[</span><span class="n">cf</span><span class="o">.</span><span class="n">lt</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;degrees_north&#39;</span><span class="p">),</span> <span class="mi">90</span><span class="p">])</span>
<span class="go">(12, 37, 96)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">math</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="s1">&#39;exact&#39;</span><span class="p">,</span> <span class="n">longitude</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">lt</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="s1">&#39;radian&#39;</span><span class="p">),</span> <span class="n">height</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">(12, 73, 48)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">gt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">IndexError: No indices found for &#39;height&#39; values gt 3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">dim2</span><span class="o">=</span><span class="mf">3.75</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(12, 1, 96)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">le</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">dt</span><span class="p">(</span><span class="s1">&#39;1860-06-16 12:00:00&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(6, 73, 96)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">gt</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">dt</span><span class="p">(</span><span class="mi">1860</span><span class="p">,</span> <span class="mi">7</span><span class="p">)),</span><span class="n">shape</span>
<span class="go">(5, 73, 96)</span>
</pre></div>
</div>
<p>Note that if a comparison function (such as <a class="reference internal" href="generated/cf.wi.html#cf.wi" title="cf.wi"><code class="xref py py-obj docutils literal"><span class="pre">cf.wi</span></code></a>) does not specify
any units, then the units of the named coordinate are assumed.</p>
</div>
</div>
<div class="section" id="cyclic-axes">
<span id="fm-cyclic-axes"></span><h2>Cyclic axes<a class="headerlink" href="#cyclic-axes" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="go">(12, 25, 96)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">longitude</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">wi</span><span class="p">(</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>
<span class="go">(12, 3, 24)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="nb">long</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">ge</span><span class="p">(</span><span class="mi">270</span><span class="p">,</span> <span class="s1">&#39;degrees_east&#39;</span><span class="p">),</span> <span class="n">lat</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mi">10</span><span class="p">]))</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(12, 3, 24)</span>
</pre></div>
</div>
</div>
<div class="section" id="assignment">
<span id="fm-assignment"></span><h2>Assignment<a class="headerlink" href="#assignment" title="Permalink to this headline">¶</a></h2>
<p>Elements of a field’s data array may be changed by assigning values
directly to an indexed subspace the field or by using the
<code class="xref py py-obj docutils literal"><span class="pre">where</span></code> method.</p>
<p>Assignment uses <span class="xref std std-ref">LAMA functionality</span>, so it is possible to
assign to fields which are larger than the available memory.</p>
<p>Array elements may be set from a field or logically scalar object,
using the same <a class="reference internal" href="#broadcasting"><span class="std std-ref">metadata-aware broadcasting rules</span></a>
as for field arithmetic and comparison operations. In the
<code class="xref py py-obj docutils literal"><span class="pre">subspace</span></code> case, the object attribute must be broadcastable
to the defined subspace, whilst in the <code class="xref py py-obj docutils literal"><span class="pre">where</span></code> case the
object must be broadcastable to the field itself.</p>
<p>The treatment of missing data elements depends on the value of field’s
<code class="xref py py-obj docutils literal"><span class="pre">hardmask</span></code> attribute. If it is True then masked elements
will not unmasked, otherwise masked elements may be set to any
value. In either case, unmasked elements may be set to any value
(including missing data).</p>
<p>Set all values to 273.15:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="o">...</span><span class="p">]</span> <span class="o">=</span> <span class="mf">273.15</span>
</pre></div>
</div>
<p>or equivalently:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="mf">273.15</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">i</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Set all negative data array values to zero and leave all other
elements unchanged:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">f</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Double the values in the northern hemisphere:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">index</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">indices</span><span class="p">(</span><span class="n">longitude</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">ge</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">*=</span> <span class="mi">2</span>
</pre></div>
</div>
<p>See <code class="xref py py-obj docutils literal"><span class="pre">cf.Field.where</span></code> for more examples.</p>
</div>
<div class="section" id="selection">
<h2>Selection<a class="headerlink" href="#selection" title="Permalink to this headline">¶</a></h2>
<div class="section" id="field-selection">
<h3>Field selection<a class="headerlink" href="#field-selection" title="Permalink to this headline">¶</a></h3>
<p>Fields from field lists may be selected according to conditions on
their metadata with the <code class="xref py py-obj docutils literal"><span class="pre">cf.FieldList.select</span></code> method (as well as the
<code class="xref py py-obj docutils literal"><span class="pre">cf.Field.select</span></code> method). Conditions may be given on attributes and
CF properties, domain items of the field (dimension coordinate,
auxiliary coordinate, cell measure or coordinate reference objects),
the number of field domain axes and the number of field data array
axes. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span>
<span class="go">[&lt;CF Field: eastward_wind(grid_latitude(110), grid_longitude(106)) m s-1&gt;,</span>
<span class="go"> &lt;CF Field: air_temperature(time(12), latitude(73), longitude(96)) K&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;air_temperature&#39;</span><span class="p">)</span>
<span class="go">&lt;CF Field: air_temperature(time(12), latitude(73), longitude(96)) K&gt;]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span> <span class="n">f</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;air_temperature&#39;</span><span class="p">,</span> <span class="n">rank</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="n">f</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;air_temperature&#39;</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;latitude&#39;</span><span class="p">:</span> <span class="n">cf</span><span class="o">.</span><span class="n">gt</span><span class="p">(</span><span class="mi">0</span><span class="p">)},</span> <span class="n">rank</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">ge</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">&lt;CF Field: air_temperature(time(12), latitude(73), longitude(96)) K&gt;</span>
</pre></div>
</div>
<p>Any of the <code class="xref py py-obj docutils literal"><span class="pre">select</span></code> arguments may also be used with
<a class="reference internal" href="generated/cf.read.html#cf.read" title="cf.read"><code class="xref py py-obj docutils literal"><span class="pre">cf.read</span></code></a> to select fields when reading from files:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;file*.nc&#39;</span><span class="p">,</span> <span class="n">select</span><span class="o">=</span><span class="s1">&#39;air_temperature&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;file*.nc&#39;</span><span class="p">,</span> <span class="n">select_options</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;rank&#39;</span><span class="p">:</span> <span class="n">cf</span><span class="o">.</span><span class="n">gt</span><span class="p">(</span><span class="mi">2</span><span class="p">)})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;file*.nc&#39;</span><span class="p">,</span> <span class="n">select</span><span class="o">=</span><span class="s1">&#39;air_temperature&#39;</span><span class="p">,</span> <span class="n">select_options</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;rank&#39;</span><span class="p">:</span> <span class="n">cf</span><span class="o">.</span><span class="n">gt</span><span class="p">(</span><span class="mi">2</span><span class="p">)})</span>
</pre></div>
</div>
<p>This may be faster than reading all fields and then selecting afterwards.</p>
</div>
<div class="section" id="domain-item-selection">
<h3>Domain item selection<a class="headerlink" href="#domain-item-selection" title="Permalink to this headline">¶</a></h3>
<p>Domain items may be retrieved with a variety of methods, some specific
to each item type (such as <code class="xref py py-obj docutils literal"><span class="pre">cf.Field.dim</span></code>) and some more generic (such
as <code class="xref py py-obj docutils literal"><span class="pre">cf.Field.coords</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">cf.Field.item</span></code>):</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Item</th>
<th class="head">Field retrieval methods</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Dimension coordinate object</td>
<td><code class="xref py py-obj docutils literal"><span class="pre">dim</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">dims</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">coord</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">coords</span></code>
<code class="xref py py-obj docutils literal"><span class="pre">item</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">items</span></code></td>
</tr>
<tr class="row-odd"><td>Auxiliary coordinate object</td>
<td><code class="xref py py-obj docutils literal"><span class="pre">aux</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">auxs</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">coord</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">coords</span></code>
<code class="xref py py-obj docutils literal"><span class="pre">item</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">items</span></code></td>
</tr>
<tr class="row-even"><td>Cell measure object</td>
<td><code class="xref py py-obj docutils literal"><span class="pre">measure</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">measures</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">item</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">items</span></code></td>
</tr>
<tr class="row-odd"><td>Coordinate reference object</td>
<td><code class="xref py py-obj docutils literal"><span class="pre">ref</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">refs</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">item</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">items</span></code></td>
</tr>
</tbody>
</table>
<p>In each case the singular method form (such as <code class="xref py py-obj docutils literal"><span class="pre">aux</span></code>) returns
an actual domain item whereas the plural method form (such as
<code class="xref py py-obj docutils literal"><span class="pre">auxs</span></code>) returns a dictionary whose keys are the domain item
identifiers with corresponding values of the items themselves.</p>
<p>For example, to retrieve a unique dimension coordinate object with a
standard name of “time”:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">dim</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">)</span>
<span class="go">&lt;CF DimensionCoordinate: time(12) noleap&gt;</span>
</pre></div>
</div>
<p>To retrieve all coordinate objects and their domain identifiers:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">coords</span><span class="p">()</span>
<span class="go">{&#39;dim0&#39;: &lt;CF DimensionCoordinate: time(12) noleap&gt;,</span>
<span class="go"> &#39;dim1&#39;: &lt;CF DimensionCoordinate: latitude(64) degrees_north&gt;,</span>
<span class="go"> &#39;dim2&#39;: &lt;CF DimensionCoordinate: longitude(128) degrees_east&gt;,</span>
<span class="go"> &#39;dim3&#39;: &lt;CF DimensionCoordinate: height(1) m&gt;}</span>
</pre></div>
</div>
<p>To retrieve all domain items and their domain identifiers:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
<span class="go">{&#39;dim0&#39;: &lt;CF DimensionCoordinate: time(12) noleap&gt;,</span>
<span class="go"> &#39;dim1&#39;: &lt;CF DimensionCoordinate: latitude(64) degrees_north&gt;,</span>
<span class="go"> &#39;dim2&#39;: &lt;CF DimensionCoordinate: longitude(128) degrees_east&gt;,</span>
<span class="go"> &#39;dim3&#39;: &lt;CF DimensionCoordinate: height(1) m&gt;}</span>
</pre></div>
</div>
<p>In this example, all of the items happen to be coordinates.</p>
</div>
</div>
<div class="section" id="aggregation">
<h2>Aggregation<a class="headerlink" href="#aggregation" title="Permalink to this headline">¶</a></h2>
<p>Fields are aggregated into as few multidimensional fields as possible
with the <code class="xref py py-obj docutils literal"><span class="pre">cf.aggregate</span></code> function, which implements the <a class="reference external" href="http://www.met.reading.ac.uk/~david/cf_aggregation_rules.html">CF aggregation
rules</a>.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span>
<span class="go">[&lt;CF Field: air_temperature(time(12), latitude(73), longitude(96)) K&gt;,</span>
<span class="go"> &lt;CF Field: air_temperature(latitude(73), longitude(96)) K @ 273.15&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span>
<span class="go">air_temperature field summary</span>
<span class="go">-----------------------------</span>
<span class="go">Data           : air_temperature(time(12), latitude(73), longitude(96)) K</span>
<span class="go">Cell methods   : time: mean</span>
<span class="go">AXes           : time(12) = [1860-01-16 12:00:00, ..., 1860-12-16 12:00:00]</span>
<span class="go">               : latitude(73) = [-90, ..., 90] degrees_north</span>
<span class="go">               : longitude(96) = [0, ..., 356.25] degrees_east</span>
<span class="go">               : height(1) = [2] m</span>
<span class="go">air_temperature field summary</span>
<span class="go">-----------------------------</span>
<span class="go">Data           : air_temperature(latitude(73), longitude(96)) K @ 273.15</span>
<span class="go">Cell methods   : time: mean</span>
<span class="go">Axes           : time(12) = [1859-12-16 12:00:00]</span>
<span class="go">               : longitude(96) = [356.25, ..., 0] degrees_east</span>
<span class="go">               : latitude(73) = [-90, ..., 90] degrees_north</span>
<span class="go">               : height(1) = [2] m</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">cf</span><span class="o">.</span><span class="n">aggregate</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span>
<span class="go">[&lt;CF Field: air_temperature(time(13), latitude(73), longitude(96)) K&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">g</span>
<span class="go">air_temperature field summary</span>
<span class="go">-----------------------------</span>
<span class="go">Data           : air_temperature(time(13), latitude(73), longitude(96)) K</span>
<span class="go">Cell methods   : time: mean</span>
<span class="go">Axes           : time(13) = [1859-12-16 12:00:00, ..., 1860-12-16 12:00:00]</span>
<span class="go">               : latitude(73) = [-90, ..., 90] degrees_north</span>
<span class="go">               : longitude(96) = [0, ..., 356.25] degrees_east</span>
<span class="go">               : height(1) = [2] m</span>
</pre></div>
</div>
<p>By default, the fields returned by <a class="reference internal" href="generated/cf.read.html#cf.read" title="cf.read"><code class="xref py py-obj docutils literal"><span class="pre">cf.read</span></code></a> have been aggregated:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;file*.nc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;file*.nc&#39;</span><span class="p">,</span> <span class="n">aggregate</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">12</span>
</pre></div>
</div>
</div>
<div class="section" id="arithmetic-and-comparison">
<span id="id3"></span><h2>Arithmetic and comparison<a class="headerlink" href="#arithmetic-and-comparison" title="Permalink to this headline">¶</a></h2>
<p>Arithmetic, bitwise and comparison operations are defined on a field
as element-wise operations on its data array which yield a new
<code class="xref py py-obj docutils literal"><span class="pre">cf.Field</span></code> object or, for augmented assignments, modify the field’s
data array in-place.</p>
<p>A field’s data array is modified in a very similar way to how a numpy
array would be modified in the same operation, i.e. <a class="reference internal" href="#broadcasting"><span class="std std-ref">broadcasting</span></a> ensures that the operands are compatible and the data
array is modified element-wise.</p>
<p>Broadcasting is metadata-aware and will automatically account for
arbitrary configurations, such as axis order, but will not allow
fields with incompatible metadata to be combined, such as adding a
field of height to one of temperature.</p>
<p>The <a class="reference internal" href="#resulting-metadata"><span class="std std-ref">resulting field’s metadata</span></a> will be
very similar to that of the operands which are also
fields. Differences arise when the existing metadata can not correctly
describe the newly created field. For example, when dividing a field
with units of <em>metres</em> by one with units of <em>seconds</em>, the resulting
field will have units of <em>metres per second</em>.</p>
<p>Arithmetic and comparison utilizes <span class="xref std std-ref">LAMA functionality</span> so
data arrays larger than the available physical memory may be operated
on.</p>
<div class="section" id="broadcasting">
<span id="id4"></span><h3>Broadcasting<a class="headerlink" href="#broadcasting" title="Permalink to this headline">¶</a></h3>
<p>The term broadcasting describes how data arrays of the operands with
different shapes are treated during arithmetic, comparison and
assignment operations. Subject to certain constraints, the smaller
array is “broadcast” across the larger array so that they have
compatible shapes.</p>
<p>The general broadcasting rules are similar to the <a class="reference external" href="https://docs.scipy.org/doc/numpy/user/basics.broadcasting.html#module-numpy.doc.broadcasting" title="(in NumPy v1.13)"><code class="xref py py-mod docutils literal"><span class="pre">broadcasting</span>
<span class="pre">rules</span> <span class="pre">implemented</span> <span class="pre">in</span> <span class="pre">numpy</span></code></a>, the only
difference occurring when both operands are fields, in which case the
fields are temporarily conformed so that:</p>
<ul class="simple">
<li>The fields have matching units.</li>
<li>Axes are aligned according to their coordinates’ metadata to ensure
that matching axes are broadcast against each other.</li>
<li>Common axes have matching axis directions.</li>
</ul>
<p>This restructuring of the field ensures that the matching axes are
broadcast against each other.</p>
<p>Broadcasting is done without making needless copies of data and so is
usually very efficient.</p>
</div>
<div class="section" id="valid-operands">
<h3>Valid operands<a class="headerlink" href="#valid-operands" title="Permalink to this headline">¶</a></h3>
<p>A field may be combined or compared with the following objects:</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="76%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Object</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><code class="xref py py-obj docutils literal"><span class="pre">int</span></code></a>,
<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#long" title="(in Python v2.7)"><code class="xref py py-obj docutils literal"><span class="pre">long</span></code></a>,
<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><code class="xref py py-obj docutils literal"><span class="pre">float</span></code></a></td>
<td>The field’s data array is combined with
the python scalar</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="classes/cf.Data.html#cf.Data" title="cf.Data"><code class="xref py py-obj docutils literal"><span class="pre">cf.Data</span></code></a>
with size 1</td>
<td><p class="first">The field’s data array
is combined with the <a class="reference internal" href="classes/cf.Data.html#cf.Data" title="cf.Data"><code class="xref py py-obj docutils literal"><span class="pre">cf.Data</span></code></a> object’s scalar
value, taking into account:</p>
<ul class="last simple">
<li>Different but equivalent units</li>
</ul>
</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">cf.Field</span></code></td>
<td><p class="first">The two field’s must satisfy the field combination
rules. The fields’ data arrays and domains are
combined taking into account:</p>
<ul class="last simple">
<li>Axis identities</li>
<li>Array units</li>
<li>Axis orders</li>
<li>Axis directions</li>
<li>Missing data values</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>A field may appear on the left or right hand side of an operator.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Combining a numpy array on the <em>left</em> with a field on the <em>right</em>
does work, but will give generally unintended results – namely a
numpy array of fields.</p>
</div>
</div>
<div class="section" id="resulting-metadata">
<span id="id5"></span><h3>Resulting metadata<a class="headerlink" href="#resulting-metadata" title="Permalink to this headline">¶</a></h3>
<p>When creating a new field which has different physical properties to
the input field(s) the units will also need to be changed:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">units</span>
<span class="go">&#39;K&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">+=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">units</span>
<span class="go">&#39;K&#39;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">units</span>
<span class="go">&#39;K&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">**=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">units</span>
<span class="go">&#39;K2&#39;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">units</span><span class="p">,</span> <span class="n">g</span><span class="o">.</span><span class="n">units</span>
<span class="go">(&#39;m&#39;, &#39;s&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span> <span class="o">=</span> <span class="n">f</span> <span class="o">/</span> <span class="n">g</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span><span class="o">.</span><span class="n">units</span>
<span class="go">&#39;m s-1&#39;</span>
</pre></div>
</div>
<p>When creating a new field which has a different domain to the input
fields, the new domain will in general contain the superset of the
axes of the two input fields, but may not have some of either input
field’s auxiliary coordinates or size 1 dimension coordinates. Refer
to the field combination rules for details.</p>
</div>
<div class="section" id="floating-point-errors">
<span id="id6"></span><h3>Floating point errors<a class="headerlink" href="#floating-point-errors" title="Permalink to this headline">¶</a></h3>
<p>It is possible to set the action to take when an arithmetic operation
produces one of the following floating-point errors:</p>
<table border="1" class="docutils">
<colgroup>
<col width="34%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Error</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Division by zero</td>
<td>Infinite result obtained from
finite numbers.</td>
</tr>
<tr class="row-odd"><td>Overflow</td>
<td>Result too large to be expressed.</td>
</tr>
<tr class="row-even"><td>Invalid operation</td>
<td>Result is not an expressible
number, typically indicates that
a NaN was produced.</td>
</tr>
<tr class="row-odd"><td>Underflow</td>
<td>Result so close to zero that some
precision was lost.</td>
</tr>
</tbody>
</table>
<p>For each type of error, one of the following actions may be chosen:</p>
<ul class="simple">
<li>Take no action. Allows invalid values to occur in the result data
array.</li>
<li>Print a <code class="xref py py-obj docutils literal"><span class="pre">RuntimeWarning</span></code> (via the Python <a class="reference external" href="https://docs.python.org/2.7/library/warnings.html#module-warnings" title="(in Python v2.7)"><code class="xref py py-obj docutils literal"><span class="pre">warnings</span></code></a> module). Allows
invalid values to occur in the result data array.</li>
<li>Raise a <code class="xref py py-obj docutils literal"><span class="pre">FloatingPointError</span></code> exception.</li>
</ul>
<p>The treatment of floating-point errors is set with
<a class="reference internal" href="generated/cf.Data.seterr.html#cf.Data.seterr" title="cf.Data.seterr"><code class="xref py py-obj docutils literal"><span class="pre">cf.Data.seterr</span></code></a>. Converting invalid numbers to masked values after an
arithmetic operation may be done with the <code class="xref py py-obj docutils literal"><span class="pre">cf.Field.mask_invalid</span></code>
method. It is also possible to mask invalid numbers during arithmetic
operations (see <a class="reference internal" href="generated/cf.Data.mask_fpe.html#cf.Data.mask_fpe" title="cf.Data.mask_fpe"><code class="xref py py-obj docutils literal"><span class="pre">cf.Data.mask_fpe</span></code></a>).</p>
<p>Note that these setting apply to all data array arithmetic within the
<code class="xref py py-obj docutils literal"><span class="pre">cf</span></code> package.</p>
</div>
<div class="section" id="operations-on-field-components">
<h3>Operations on field components<a class="headerlink" href="#operations-on-field-components" title="Permalink to this headline">¶</a></h3>
<p>Operating on a field component works in much the same was as operating
on the field itself:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">field_anc</span><span class="p">(</span><span class="s1">&#39;air_temperature standard_error&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">data</span>
<span class="go">&lt;CF Data: [[[1.2, ..., 5.6]]] K&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">+=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">data</span>
<span class="go">&lt;CF Data: [[[3.2, ..., 7.6]]] K&gt;</span>
</pre></div>
</div>
<p>If the component has bounds, however, the bounds are operated on with
the same operand as for the variable’s data array:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">coord</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">dump</span><span class="p">()</span>
<span class="go">Dimension Coordinate: longitude</span>
<span class="go">    standard_name = &#39;longitude&#39;</span>
<span class="go">    Data(128) = [0.0, ..., 357.1875] degrees_east</span>
<span class="go">    Bounds(128, 2) = [[-1.40625, ..., 358.59375]] degrees_east</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">dump</span><span class="p">()</span>
<span class="go">Dimension Coordinate: longitude</span>
<span class="go">    standard_name = &#39;longitude&#39;</span>
<span class="go">    Data(128) = [2.0, ..., 359.1875] degrees_east</span>
<span class="go">    Bounds(128, 2) = [[0.59375, ..., 360.59375]] degrees_east</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">dump</span><span class="p">()</span>
<span class="go">Dimension Coordinate: longitude</span>
<span class="go">    axis = &#39;X&#39;</span>
<span class="go">    long_name = &#39;longitude&#39;</span>
<span class="go">    standard_name = &#39;longitude&#39;</span>
<span class="go">    Data(128) = [0.0, ..., 714.375] degrees_east</span>
<span class="go">    Bounds(128, 2) = [[-1.40625, ..., 715.78125]] degrees_east</span>
</pre></div>
</div>
<p>This means that cells do not change size when undergoing simple
relocation. For example, of a coordinate of 0.5 with cell bounds of
[-1, 1] has 2 added to it, the the coordinate becomes 2.5 with cell
bounds [1, 3].</p>
</div>
</div>
<div class="section" id="statistical-operations">
<h2>Statistical operations<a class="headerlink" href="#statistical-operations" title="Permalink to this headline">¶</a></h2>
<p>Axes of a field may be collapsed by statistical methods with the
<code class="xref py py-obj docutils literal"><span class="pre">cf.Field.collapse</span></code> method. Collapsing an axis involves reducing its
size with a given (typically statistical) method.</p>
<p>By default all axes with size greater than 1 are collapsed completely
with the given method. For example, to find the minumum of the data
array:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="s1">&#39;min&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>By default the calculations of means, standard deviations and
variances use a combination of volume, area and linear weights based
on the field’s metadata. For example to find the mean of the data
array, weighted where possible:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="s1">&#39;mean&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Specific weights may be forced with the weights parameter. For example
to find the variance of the data array, weighting the X and Y axes by
cell area, the T axis linearly and leaving all other axes unweighted:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="s1">&#39;variance&#39;</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;area&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>A subset of the axes may be collapsed. For example, to find the mean
over the time axis:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span>
<span class="go">&lt;CF Field: air_temperature(time(12), latitude(73), longitude(96) K&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="s1">&#39;T: mean&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span>
<span class="go">&lt;CF Field: air_temperature(time(1), latitude(73), longitude(96) K&gt;</span>
</pre></div>
</div>
<p>For example, to find the maximum over the time and height axes:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="s1">&#39;T: Z: max&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>or, equivalently:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="s1">&#39;max&#39;</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;Z&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>An ordered sequence of collapses over different (or the same) subsets
of the axes may be specified. For example, to first find the mean over
the time axis and subequently the standard deviation over the latitude
and longitude axes:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="s1">&#39;T: mean area: sd&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>or, equivalently, in two steps:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="s1">&#39;T&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="s1">&#39;sd&#39;</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="s1">&#39;area&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Grouped collapses are possible, whereby groups of elements along an
axis are defined and each group is collapsed independently. The
collapsed groups are concatenated so that the collapsed axis in the
output field has a size equal to the number of groups. For example, to
find the variance along the longitude axis within each group of size
10 degrees:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="s1">&#39;longitude: variance&#39;</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">Data</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;degrees&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>Climatological statistics (a type of grouped collapse) as defined by
the CF conventions may be specified. For example, to collapse a time
axis into multiannual means of calendar monthly minima:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="s1">&#39;time: minimum within years T: mean over years&#39;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">within_years</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">M</span><span class="p">())</span>
</pre></div>
</div>
<p>In all collapses, missing data array elements are accounted for in the
calculation.</p>
<p>The following collapse methods are available, over any subset of the
axes:</p>
<table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">Notes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Maximum</td>
<td>The maximum of the values.</td>
</tr>
<tr class="row-odd"><td>Minimum</td>
<td>The minimum of the values.</td>
</tr>
<tr class="row-even"><td>Sum</td>
<td>The sum of the values.</td>
</tr>
<tr class="row-odd"><td>Mid-range</td>
<td>The average of the maximum and the minimum of the
values.</td>
</tr>
<tr class="row-even"><td>Range</td>
<td>The absolute difference between the maximum and
the minimum of the values.</td>
</tr>
<tr class="row-odd"><td>Mean</td>
<td><p class="first">The unweighted mean, <span class="math">\(m\)</span>, of <span class="math">\(N\)</span>
values <span class="math">\(x_i\)</span> is</p>
<div class="math">
\[m=\frac{1}{N}\sum_{i=1}^{N} x_i\]</div>
<p>The weighted mean, <span class="math">\(\tilde{m}\)</span>, of <span class="math">\(N\)</span>
values <span class="math">\(x_i\)</span> with corresponding weights
<span class="math">\(w_i\)</span> is</p>
<div class="last math">
\[\tilde{m}=\frac{1}{\sum_{i=1}^{N} w_i}
\sum_{i=1}^{N} w_i x_i\]</div>
</td>
</tr>
<tr class="row-even"><td>Standard deviation</td>
<td><p class="first">The unweighted standard deviation, <span class="math">\(s\)</span>, of
<span class="math">\(N\)</span> values <span class="math">\(x_i\)</span> with mean <span class="math">\(m\)</span>
and with <span class="math">\(N-ddof\)</span> degrees of freedom
(<span class="math">\(ddof\ge0\)</span>) is</p>
<div class="math">
\[s=\sqrt{\frac{1}{N-ddof}
\sum_{i=1}^{N} (x_i - m)^2}\]</div>
<p>The weighted standard deviation,
<span class="math">\(\tilde{s}_N\)</span>, of <span class="math">\(N\)</span> values
<span class="math">\(x_i\)</span> with corresponding weights
<span class="math">\(w_i\)</span>, weighted mean
<span class="math">\(\tilde{m}\)</span> and with <span class="math">\(N\)</span>
degrees of freedom is</p>
<div class="math">
\[\tilde{s}_N=\sqrt{\frac{1}
{\sum_{i=1}^{N} w_i}
\sum_{i=1}^{N} w_i(x_i -
\tilde{m})^2}\]</div>
<p>The weighted standard deviation,
<span class="math">\(\tilde{s}\)</span>, of <span class="math">\(N\)</span> values
<span class="math">\(x_i\)</span> with corresponding weights
<span class="math">\(w_i\)</span> and with <span class="math">\(N-ddof\)</span> degrees
of freedom <span class="math">\((ddof&gt;0)\)</span> is</p>
<div class="math">
\[\tilde{s}=\sqrt{ \frac{a
\sum_{i=1}^{N} w_i}{a
\sum_{i=1}^{N} w_i - ddof}}
\tilde{s}_N\]</div>
<p class="last">where <span class="math">\(a\)</span> is the smallest positive
number whose product with each weight is an
integer. <span class="math">\(a \sum_{i=1}^{N} w_i\)</span> is
the size of a new sample created by each
<span class="math">\(x_i\)</span> having <span class="math">\(aw_i\)</span> repeats. In
practice, <span class="math">\(a\)</span> may not exist or may be
difficult to calculate, so <span class="math">\(a\)</span> is
either set to a predetermined value or an
approximate value is calculated (see
<code class="xref py py-obj docutils literal"><span class="pre">cf.Field.collapse</span></code> for details).</p>
</td>
</tr>
<tr class="row-odd"><td>Variance</td>
<td>The variance is the square of the standard
deviation.</td>
</tr>
<tr class="row-even"><td>Sample size</td>
<td>The sample size, <span class="math">\(N\)</span>, as would be used for
other statistical calculations.</td>
</tr>
<tr class="row-odd"><td>Sum of weights</td>
<td>The sum of sample weights,
<span class="math">\(\sum_{i=1}^{N} w_i\)</span>, as would be
used for other statistical calculations.</td>
</tr>
<tr class="row-even"><td>Sum of squares of weights</td>
<td>The sum of squares of sample weights,
<span class="math">\(\sum_{i=1}^{N} {w_i}^{2}\)</span>,
as would be used for other statistical
calculations.</td>
</tr>
</tbody>
</table>
<p>See <code class="xref py py-obj docutils literal"><span class="pre">cf.Field.collapse</span></code> for more details.</p>
</div>
<div class="section" id="regridding-operations">
<h2>Regridding operations<a class="headerlink" href="#regridding-operations" title="Permalink to this headline">¶</a></h2>
<p>A field may be regridded onto a new latitude-longitude grid:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span>
<span class="go">&lt;CF Field: air_temperature(time(12), latitude(73), longitude(96) K&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span>
<span class="go">&lt;CF Field: precipitation(time(24), longitude(128), latitude(64)) kg m-2 s-1&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">regrids</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span>
<span class="go">&lt;CF Field: air_temperature(time(12), longitude(128), latitude(64) K&gt;</span>
</pre></div>
</div>
<p>By default the interpolation is first-order conservative, but bilinear
interpolation is also possible. The missing data masks of the field
and the new grid are aslo taken into account.</p>
<p>See <code class="xref py py-obj docutils literal"><span class="pre">cf.Field.regrids</span></code> for more details.</p>
</div>
<div class="section" id="units">
<span id="id7"></span><h2>Units<a class="headerlink" href="#units" title="Permalink to this headline">¶</a></h2>
<p>A field (as well as any other object which <a class="reference internal" href="class.html#inheritance-diagrams"><span class="std std-ref">inherits</span></a> from <code class="xref py py-obj docutils literal"><span class="pre">cf.Variable</span></code>) always contains a
<a class="reference internal" href="classes/cf.Units.html#cf.Units" title="cf.Units"><code class="xref py py-obj docutils literal"><span class="pre">cf.Units</span></code></a> object which gives the physical units of the values
contained in its data array.</p>
<p>The <a class="reference internal" href="classes/cf.Units.html#cf.Units" title="cf.Units"><code class="xref py py-obj docutils literal"><span class="pre">cf.Units</span></code></a> object is stored in the field’s <code class="xref py py-obj docutils literal"><span class="pre">Units</span></code>
attribute but may also be accessed through the field’s <code class="xref py py-obj docutils literal"><span class="pre">units</span></code>
and <code class="xref py py-obj docutils literal"><span class="pre">calendar</span></code> CF properties, which may take any value allowed
by the <a class="reference external" href="http://cf-pcmdi.llnl.gov/documents/cf-conventions/latest-cf-conventions-document-1">CF conventions</a>. In
particular, the value of the <code class="xref py py-obj docutils literal"><span class="pre">units</span></code> CF property is a string
that can be recognized by <a class="reference external" href="http://www.unidata.ucar.edu/software/udunits/">UNIDATA’s Udunits-2 package</a>, with a few
exceptions for greater consistency with CF. These are detailed by the
<a class="reference internal" href="classes/cf.Units.html#cf.Units" title="cf.Units"><code class="xref py py-obj docutils literal"><span class="pre">cf.Units</span></code></a> object.</p>
<div class="section" id="id8">
<h3>Assignment<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>The Field’s units may be assigned directly to its <a class="reference internal" href="classes/cf.Units.html#cf.Units" title="cf.Units"><code class="xref py py-obj docutils literal"><span class="pre">cf.Units</span></code></a> object:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">Units</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;days since 1-1-1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">Units</span><span class="o">.</span><span class="n">calendar</span> <span class="o">=</span> <span class="s1">&#39;noleap&#39;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">Units</span> <span class="o">=</span> <span class="n">cf</span><span class="o">.</span><span class="n">Units</span><span class="p">(</span><span class="s1">&#39;metre&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>But the same result is achieved by assigning to the field’s
<code class="xref py py-obj docutils literal"><span class="pre">units</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">calendar</span></code> CF properties:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;days since 1-1-1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">calendar</span> <span class="o">=</span> <span class="s1">&#39;noleap&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">Units</span>
<span class="go">&lt;CF Units: days since 1-1-1 calendar=noleap&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">units</span>
<span class="go">&#39;days since 1-1-1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">calendar</span>
<span class="go">&#39;noleap&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="time-units">
<h3>Time units<a class="headerlink" href="#time-units" title="Permalink to this headline">¶</a></h3>
<p>Time units may be given as durations of time or as an amount of time
since a reference time:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;day&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;seconds since 1992-10-8 15:15:42.5 -6:00&#39;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is recommended that the units <code class="docutils literal"><span class="pre">'year'</span></code> and <code class="docutils literal"><span class="pre">'month'</span></code> be used
with caution, as explained in the following excerpt from the CF
conventions: “The Udunits package defines a year to be exactly
365.242198781 days (the interval between 2 successive passages of
the sun through vernal equinox). It is not a calendar year. Udunits
includes the following definitions for years: a common_year is 365
days, a leap_year is 366 days, a Julian_year is 365.25 days, and a
Gregorian_year is 365.2425 days. For similar reasons the unit
<code class="docutils literal"><span class="pre">'month'</span></code>, which is defined to be exactly year/12, should also be
used with caution.”</p>
</div>
<p>The date given in reference time units is always associated with one
of the calendars recognized by the CF conventions and may be set with
the <em>calendar</em> CF property (on the field or Units object).</p>
<p>If the calendar is not set then, as in the CF conventions, for the
purposes of calculation and comparison, it defaults to the mixed
Gregorian/Julian calendar as defined by Udunits:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;days since 2000-1-1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">calendar</span>
<span class="go">AttributeError: Can&#39;t get &#39;Field&#39; attribute &#39;calendar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;days since 2000-1-1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">calendar</span> <span class="o">=</span> <span class="s1">&#39;gregorian&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">Units</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">Units</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The calendar is ignored for units other than reference time units.</p>
</div>
<div class="section" id="changing-units">
<h3>Changing units<a class="headerlink" href="#changing-units" title="Permalink to this headline">¶</a></h3>
<p>Changing units to equivalent units causes the variable’s data array
values to be modified in place (if required) when they are next
accessed, and not before:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">units</span>
<span class="go">&#39;metre&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">array</span>
<span class="go">array([    0.,  1000.,  2000.,  3000.,  4000.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;kilometre&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">units</span>
<span class="go">&#39;kilometre&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">array</span>
<span class="go">array([ 0.,  1.,  2.,  3.,  4.])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">units</span>
<span class="go">&#39;hours since 2000-1-1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">array</span>
<span class="go">array([-1227192., -1227168., -1227144.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;days since 1860-1-1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">array</span>
<span class="go">array([ 1.,  2.,  3.])</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="classes/cf.Units.html#cf.Units" title="cf.Units"><code class="xref py py-obj docutils literal"><span class="pre">cf.Units</span></code></a> object may be operated on with augmented arithmetic
assignments and binary arithmetic operations:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">units</span>
<span class="go">&#39;kelvin&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">array</span>
<span class="go">array([ 273.15,  274.15,  275.15,  276.15,  277.15])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">Units</span> <span class="o">-=</span> <span class="mf">273.15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">units</span>
<span class="go">&#39;K @ 273.15&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">array</span>
<span class="go">array([ 0.,  1.,  2.,  3.,  4.])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">Units</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">Units</span> <span class="o">+</span> <span class="mf">273.15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">units</span>
<span class="go">&#39;K&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">array</span>
<span class="go">array([ 273.15,  274.15,  275.15,  276.15,  277.15])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;K @ 237.15&#39;</span>
<span class="go">&#39;K @ 273.15&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">array</span>
<span class="go">array([ 0.,  1.,  2.,  3.,  4.])</span>
</pre></div>
</div>
<p>If the field has a data array and its units are changed to
non-equivalent units then a <code class="xref py py-mod docutils literal"><span class="pre">TypeError</span></code> will be raised when
the data are next accessed:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">units</span>
<span class="go">&#39;m s-1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;K&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">array</span>
<span class="go">TypeError: Units are not convertible: &lt;CF Units: m s-1&gt;, &lt;CF Units: K&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="overriding-units">
<h3>Overriding units<a class="headerlink" href="#overriding-units" title="Permalink to this headline">¶</a></h3>
<p>If the units are incorrect, either due to a data manipulation or
an incorrect encoding, it is possible to replace the existing units with
new units, which don’t have to be equivalent, without altering the
data values:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">units</span>
<span class="go">&#39;mm/day&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="go">&lt;CF Data: 3.3455467 mm/day&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">override_units</span><span class="p">(</span><span class="s1">&#39;kg m-2 s-1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="go">&lt;CF Data: 3.3455467 kg m-2 s-1&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">override_units</span><span class="p">(</span><span class="s1">&#39;watts m-2&#39;</span><span class="p">,</span> <span class="n">i</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="go">&lt;CF Data: 3.3455467 watts m-2&gt;</span>
</pre></div>
</div>
<p>Overriding the calendar of reference time units is done in a similar manner:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">calendar</span>
<span class="go">&#39;360_day&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">array</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="go">59.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="go">&lt;CF Data: 1960-02-30 00:00:00 360_day&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">override_calandar</span><span class="p">(</span><span class="s1">&#39;gregorian&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">array</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="go">59.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="go">&lt;CF Data: 1960-02-29 00:00:00 gregorian&gt;</span>
</pre></div>
</div>
<p>Note that in this case the data values have remained unchanged, but
their date-time interpretation has been redefined.</p>
<p>See <code class="xref py py-obj docutils literal"><span class="pre">cf.Field.override_units</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">cf.Field.override_calendar</span></code> for details.</p>
</div>
<div class="section" id="equality-and-equivalence-of-units">
<h3>Equality and equivalence of units<a class="headerlink" href="#equality-and-equivalence-of-units" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="classes/cf.Units.html#cf.Units" title="cf.Units"><code class="xref py py-obj docutils literal"><span class="pre">cf.Units</span></code></a> object has methods for assessing whether two units are
equivalent or equal, regardless of their exact string representations.</p>
<p>Two units are equivalent if and only if numeric values in one unit are
convertible to numeric values in the other unit (such as
<code class="docutils literal"><span class="pre">'kilometres'</span></code> and <code class="docutils literal"><span class="pre">'metres'</span></code>). Two units are equal if and only if
they are equivalent and their conversion is a scale factor of 1 (such
as <code class="docutils literal"><span class="pre">'kilometres'</span></code> and <code class="docutils literal"><span class="pre">'1000</span> <span class="pre">metres'</span></code>). Note that equivalence and
equality are based on internally stored binary representations of the
units, rather than their string representations.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;m/s&#39;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;m s-1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">Units</span> <span class="o">==</span> <span class="n">g</span><span class="o">.</span><span class="n">Units</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">Units</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">Units</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;km s-1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">Units</span><span class="o">.</span><span class="n">equivalent</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">Units</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;days since 1987-12-3&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;hours since 2000-12-1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">Units</span> <span class="o">==</span> <span class="n">g</span><span class="o">.</span><span class="n">Units</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">Units</span><span class="o">.</span><span class="n">equivalent</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">Units</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</div>
<div class="section" id="bounds-units">
<h3>Bounds units<a class="headerlink" href="#bounds-units" title="Permalink to this headline">¶</a></h3>
<p>The units of variables with cell bounds (i.e. coordinates and domain
ancillaries) are always the same as the coordinate itself, and the
units of the bounds automatically change when a variable’s units are
changed:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">units</span>
<span class="go">&#39;degrees&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">units</span>
<span class="go">&#39;degrees&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">c</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">array</span>
<span class="go">[  0.  90.]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;radians&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">units</span>
<span class="go">&#39;radians&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">c</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">array</span>
<span class="go">[ 0.  1.57079633]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="manipulating-other-variables">
<h2>Manipulating other variables<a class="headerlink" href="#manipulating-other-variables" title="Permalink to this headline">¶</a></h2>
<p>A field is a subclass of <code class="xref py py-obj docutils literal"><span class="pre">cf.Variable</span></code>, and that class and other
subclasses of <code class="xref py py-obj docutils literal"><span class="pre">cf.Variable</span></code> share generally similar behaviours and
methods:</p>
<table border="1" class="docutils">
<colgroup>
<col width="34%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Class</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">cf.AuxiliaryCoordinate</span></code></td>
<td>A CF auxiliary coordinate construct.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">cf.CellMeasure</span></code></td>
<td>A CF cell measure construct containing
information that is needed about the size,
shape or location of the field’s cells.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="classes/cf.Coordinate.html#cf.Coordinate" title="cf.Coordinate"><code class="xref py py-obj docutils literal"><span class="pre">cf.Coordinate</span></code></a></td>
<td>Base class for storing a coordinate.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="classes/cf.DimensionCoordinate.html#cf.DimensionCoordinate" title="cf.DimensionCoordinate"><code class="xref py py-obj docutils literal"><span class="pre">cf.DimensionCoordinate</span></code></a></td>
<td>A CF dimension coordinate construct.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">cf.Variable</span></code></td>
<td>Base class for storing a data array with
metadata.</td>
</tr>
</tbody>
</table>
<p>In general, different axis identities, different axis orders and
different axis directions are not considered, since these objects do
not contain a coordinate system required to define these properties
(unlike a field).</p>
<div class="section" id="coordinates">
<h3>Coordinates<a class="headerlink" href="#coordinates" title="Permalink to this headline">¶</a></h3>
<p>Coordinates are a special case as they may contain a data array for
their coordinate bounds which needs to be treated consistently with
the main coordinate array. If a coordinate has bounds then all
coordinate methods also operate on the bounds in a consistent manner:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span>
<span class="go">&lt;CF Coordinate: latitude(73, 96)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">bounds</span>
<span class="go">&lt;CF Bounds: (73, 96, 4)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(10, 96)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(10, 96, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">transpose</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(96, 10)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(96, 10, 4)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the coordinate bounds are operated on independently, care should
be taken not to break consistency with the parent coordinate.</p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Manipulating <code class="docutils literal"><span class="pre">cf.Field</span></code> objects</a><ul>
<li><a class="reference internal" href="#data-array">Data array</a></li>
<li><a class="reference internal" href="#copying">Copying</a></li>
<li><a class="reference internal" href="#subspacing">Subspacing</a></li>
<li><a class="reference internal" href="#cyclic-axes">Cyclic axes</a></li>
<li><a class="reference internal" href="#assignment">Assignment</a></li>
<li><a class="reference internal" href="#selection">Selection</a></li>
<li><a class="reference internal" href="#aggregation">Aggregation</a></li>
<li><a class="reference internal" href="#arithmetic-and-comparison">Arithmetic and comparison</a></li>
<li><a class="reference internal" href="#statistical-operations">Statistical operations</a></li>
<li><a class="reference internal" href="#regridding-operations">Regridding operations</a></li>
<li><a class="reference internal" href="#units">Units</a></li>
<li><a class="reference internal" href="#manipulating-other-variables">Manipulating other variables</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="field_creation.html"
                        title="previous chapter">Creating <code class="docutils literal"><span class="pre">cfdm.Field</span></code> objects</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="fieldlist.html"
                        title="next chapter">The <code class="docutils literal"><span class="pre">cf.FieldList</span></code> object</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/field_manipulation.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="fieldlist.html" title="The cf.FieldList object"
             >next</a> |</li>
        <li class="right" >
          <a href="field_creation.html" title="Creating cfdm.Field objects"
             >previous</a> |</li>
  <li><a target="_blank" href="../archive.html">Archive</a> &laquo;</li>
  <li><a target="_blank" href="http://cfpython.bitbucket.io">cf-python 0.1</a> &raquo;</li>
<!--
  <li><a target="_blank" href="http://cfpython.bitbucket.io">cf-python</a> &raquo;</li>
  <li><select onchange="location = this.options[this.selectedIndex].value;">

      <option value="../1.0/index.html">1.0

      <option value="../0.9.9/index.html">0.9.9

      <option value="../0.9.8.3/index.html">0.9.8.3

      <option value="../archive.html">Archive

      </select>
  </li>
-->
  
        <li class="nav-item nav-item-0"><a href="index.html">Documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="reference.html" >Reference manual</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, David Hassell.
      Last updated on Oct 04, 2017.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.2.
    </div>
  </body>
</html>